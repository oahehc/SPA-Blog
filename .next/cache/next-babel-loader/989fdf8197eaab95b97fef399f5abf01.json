{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/yakim/Desktop/blog-spa/src/components/search/Search.jsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\n\nconst Suggestions = ({\n  results,\n  handleReset\n}) => results && __jsx(\"ul\", {\n  className: \"search__result\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6\n  },\n  __self: this\n}, results.map(list => __jsx(\"li\", {\n  key: list.id,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, __jsx(Link, {\n  to: `/posts/${list.id}`,\n  onClick: handleReset,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, list.title))));\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      query: ''\n    });\n\n    _defineProperty(this, \"handleChange\", e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    });\n\n    _defineProperty(this, \"handleReset\", () => {\n      const {\n        clearSearch\n      } = this.props;\n      clearSearch();\n      this.setState({\n        query: ''\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      getSearch\n    } = this.props;\n    const {\n      query\n    } = this.state;\n\n    if (prevState.query !== query) {\n      if (query.length === 0) {\n        this.handleReset();\n        return;\n      }\n\n      getSearch(query);\n    }\n  }\n\n  render() {\n    const {\n      query\n    } = this.state;\n    const {\n      results\n    } = this.props;\n    return __jsx(\"form\", {\n      className: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      placeholder: \"Search\",\n      name: \"query\",\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      value: query,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })), __jsx(\"button\", {\n      className: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      className: \"fas fa-search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })), __jsx(Suggestions, {\n      results: results,\n      handleReset: this.handleReset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/yakim/Desktop/blog-spa/src/components/search/Search.jsx"],"names":["React","Component","Link","Suggestions","results","handleReset","map","list","id","title","Search","query","e","setState","target","name","value","clearSearch","props","componentDidUpdate","prevProps","prevState","getSearch","state","length","render","handleChange"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAD,KAClBD,OAAO,IACP;AAAI,EAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAEIA,OAAO,CAACE,GAAR,CAAYC,IAAI,IACd;AAAI,EAAA,GAAG,EAAEA,IAAI,CAACC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE,MAAC,IAAD;AAAM,EAAA,EAAE,EAAG,UAASD,IAAI,CAACC,EAAG,EAA5B;AAA+B,EAAA,OAAO,EAAEH,WAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAsDE,IAAI,CAACE,KAA3D,CADF,CADF,CAFJ,CAFF;;AAaA,MAAMC,MAAN,SAAqBT,SAArB,CAA+B;AAAA;AAAA;;AAAA,mCACrB;AACNU,MAAAA,KAAK,EAAE;AADD,KADqB;;AAAA,0CAkBdC,CAAC,IAAI;AAClB,WAAKC,QAAL,CAAc;AACZ,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AADd,OAAd;AAGD,KAtB4B;;AAAA,yCAwBf,MAAM;AAClB,YAAM;AAAEC,QAAAA;AAAF,UAAkB,KAAKC,KAA7B;AACAD,MAAAA,WAAW;AACX,WAAKJ,QAAL,CAAc;AACZF,QAAAA,KAAK,EAAE;AADK,OAAd;AAGD,KA9B4B;AAAA;;AAK7BQ,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACvC,UAAM;AAAEC,MAAAA;AAAF,QAAgB,KAAKJ,KAA3B;AACA,UAAM;AAAEP,MAAAA;AAAF,QAAY,KAAKY,KAAvB;;AACA,QAAIF,SAAS,CAACV,KAAV,KAAoBA,KAAxB,EAA+B;AAC7B,UAAIA,KAAK,CAACa,MAAN,KAAiB,CAArB,EAAwB;AACtB,aAAKnB,WAAL;AACA;AACD;;AAEDiB,MAAAA,SAAS,CAACX,KAAD,CAAT;AACD;AACF;;AAiBDc,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEd,MAAAA;AAAF,QAAY,KAAKY,KAAvB;AACA,UAAM;AAAEnB,MAAAA;AAAF,QAAc,KAAKc,KAAzB;AACA,WACE;AAAM,MAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,WAAW,EAAC,QADd;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,QAAQ,EAAE,KAAKQ,YAHjB;AAIE,MAAA,YAAY,EAAC,KAJf;AAKE,MAAA,KAAK,EAAEf,KALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAUE;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,SAAS,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAVF,EAaE,MAAC,WAAD;AAAa,MAAA,OAAO,EAAEP,OAAtB;AAA+B,MAAA,WAAW,EAAE,KAAKC,WAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbF,CADF;AAiBD;;AArD4B;;AAyD/B,eAAeK,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\n\nconst Suggestions = ({ results, handleReset }) => (\n  results &&\n  <ul className=\"search__result\">\n    {\n      results.map(list => (\n        <li key={list.id}>\n          <Link to={`/posts/${list.id}`} onClick={handleReset}>{list.title}</Link>\n        </li>\n      ))\n    }\n  </ul>\n)\n\nclass Search extends Component {\n  state = {\n    query: '',\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { getSearch } = this.props;\n    const { query } = this.state;\n    if (prevState.query !== query) {\n      if (query.length === 0) {\n        this.handleReset();\n        return;\n      }\n\n      getSearch(query);\n    }\n  }\n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    })\n  }\n\n  handleReset = () => {\n    const { clearSearch } = this.props;\n    clearSearch();\n    this.setState({\n      query: '',\n    })\n  }\n\n\n  render() {\n    const { query } = this.state;\n    const { results } = this.props;\n    return (\n      <form className=\"search\">\n        <div className=\"input\">\n          <input\n            placeholder=\"Search\"\n            name='query'\n            onChange={this.handleChange}\n            autoComplete=\"off\"\n            value={query}\n          />\n        </div>\n        <button className=\"submit\">\n          <span className=\"fas fa-search\"></span>\n        </button>\n        <Suggestions results={results} handleReset={this.handleReset} />\n      </form>\n    )\n  }\n}\n\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}