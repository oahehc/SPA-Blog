{"ast":null,"code":"import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\n\nconst Suggestions = ({\n  results,\n  handleReset\n}) => results && React.createElement(\"ul\", {\n  className: \"search__result\"\n}, results.map(list => React.createElement(\"li\", {\n  key: list.id\n}, React.createElement(Link, {\n  to: \"/posts/\".concat(list.id),\n  onClick: handleReset\n}, list.title))));\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: ''\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleReset = () => {\n      const {\n        clearSearch\n      } = this.props;\n      clearSearch();\n      this.setState({\n        query: ''\n      });\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      getSearch\n    } = this.props;\n    const {\n      query\n    } = this.state;\n\n    if (prevState.query !== query) {\n      if (query.length === 0) {\n        this.handleReset();\n        return;\n      }\n\n      getSearch(query);\n    }\n  }\n\n  render() {\n    const {\n      query\n    } = this.state;\n    const {\n      results\n    } = this.props;\n    return React.createElement(\"form\", {\n      className: \"search\"\n    }, React.createElement(\"div\", {\n      className: \"input\"\n    }, React.createElement(\"input\", {\n      placeholder: \"Search\",\n      name: \"query\",\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      value: query\n    })), React.createElement(\"button\", {\n      className: \"submit\"\n    }, React.createElement(\"span\", {\n      className: \"fas fa-search\"\n    })), React.createElement(Suggestions, {\n      results: results,\n      handleReset: this.handleReset\n    }));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/yakim/Desktop/blog-spa/src/components/search/Search.jsx"],"names":["React","Component","Link","Suggestions","results","handleReset","map","list","id","title","Search","state","query","handleChange","e","setState","target","name","value","clearSearch","props","componentDidUpdate","prevProps","prevState","getSearch","length","render"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAD,KAClBD,OAAO,IACP;AAAI,EAAA,SAAS,EAAC;AAAd,GAEIA,OAAO,CAACE,GAAR,CAAYC,IAAI,IACd;AAAI,EAAA,GAAG,EAAEA,IAAI,CAACC;AAAd,GACE,oBAAC,IAAD;AAAM,EAAA,EAAE,mBAAYD,IAAI,CAACC,EAAjB,CAAR;AAA+B,EAAA,OAAO,EAAEH;AAAxC,GAAsDE,IAAI,CAACE,KAA3D,CADF,CADF,CAFJ,CAFF;;AAaA,MAAMC,MAAN,SAAqBT,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC7BU,KAD6B,GACrB;AACNC,MAAAA,KAAK,EAAE;AADD,KADqB;;AAAA,SAkB7BC,YAlB6B,GAkBdC,CAAC,IAAI;AAClB,WAAKC,QAAL,CAAc;AACZ,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AADd,OAAd;AAGD,KAtB4B;;AAAA,SAwB7Bb,WAxB6B,GAwBf,MAAM;AAClB,YAAM;AAAEc,QAAAA;AAAF,UAAkB,KAAKC,KAA7B;AACAD,MAAAA,WAAW;AACX,WAAKJ,QAAL,CAAc;AACZH,QAAAA,KAAK,EAAE;AADK,OAAd;AAGD,KA9B4B;AAAA;;AAK7BS,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACvC,UAAM;AAAEC,MAAAA;AAAF,QAAgB,KAAKJ,KAA3B;AACA,UAAM;AAAER,MAAAA;AAAF,QAAY,KAAKD,KAAvB;;AACA,QAAIY,SAAS,CAACX,KAAV,KAAoBA,KAAxB,EAA+B;AAC7B,UAAIA,KAAK,CAACa,MAAN,KAAiB,CAArB,EAAwB;AACtB,aAAKpB,WAAL;AACA;AACD;;AAEDmB,MAAAA,SAAS,CAACZ,KAAD,CAAT;AACD;AACF;;AAiBDc,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEd,MAAAA;AAAF,QAAY,KAAKD,KAAvB;AACA,UAAM;AAAEP,MAAAA;AAAF,QAAc,KAAKgB,KAAzB;AACA,WACE;AAAM,MAAA,SAAS,EAAC;AAAhB,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AACE,MAAA,WAAW,EAAC,QADd;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,QAAQ,EAAE,KAAKP,YAHjB;AAIE,MAAA,YAAY,EAAC,KAJf;AAKE,MAAA,KAAK,EAAED;AALT,MADF,CADF,EAUE;AAAQ,MAAA,SAAS,EAAC;AAAlB,OACE;AAAM,MAAA,SAAS,EAAC;AAAhB,MADF,CAVF,EAaE,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAER,OAAtB;AAA+B,MAAA,WAAW,EAAE,KAAKC;AAAjD,MAbF,CADF;AAiBD;;AArD4B;;AAyD/B,eAAeK,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\n\nconst Suggestions = ({ results, handleReset }) => (\n  results &&\n  <ul className=\"search__result\">\n    {\n      results.map(list => (\n        <li key={list.id}>\n          <Link to={`/posts/${list.id}`} onClick={handleReset}>{list.title}</Link>\n        </li>\n      ))\n    }\n  </ul>\n)\n\nclass Search extends Component {\n  state = {\n    query: '',\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { getSearch } = this.props;\n    const { query } = this.state;\n    if (prevState.query !== query) {\n      if (query.length === 0) {\n        this.handleReset();\n        return;\n      }\n\n      getSearch(query);\n    }\n  }\n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    })\n  }\n\n  handleReset = () => {\n    const { clearSearch } = this.props;\n    clearSearch();\n    this.setState({\n      query: '',\n    })\n  }\n\n\n  render() {\n    const { query } = this.state;\n    const { results } = this.props;\n    return (\n      <form className=\"search\">\n        <div className=\"input\">\n          <input\n            placeholder=\"Search\"\n            name='query'\n            onChange={this.handleChange}\n            autoComplete=\"off\"\n            value={query}\n          />\n        </div>\n        <button className=\"submit\">\n          <span className=\"fas fa-search\"></span>\n        </button>\n        <Suggestions results={results} handleReset={this.handleReset} />\n      </form>\n    )\n  }\n}\n\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}